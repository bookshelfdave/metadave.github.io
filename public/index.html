<!DOCTYPE html>
<html lang="en-us">
<head>

    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width, initial-scale=1">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="theme" content="hugo-academic">
    <meta name="generator" content="Hugo 0.18.1" />
    <meta name="author" content="Dave Parfitt">
    <meta name="description" content="Site Reliability Engineer">

    <link rel="stylesheet" href="https://www.metadave.net/css/highlight.min.css">
    <link rel="stylesheet" href="https://www.metadave.net/css/bootstrap.min.css">
    <link rel="stylesheet" href="https://www.metadave.net/css/font-awesome.min.css">
    <link rel="stylesheet" href="https://www.metadave.net/css/academicons.min.css">
    <link rel="stylesheet" href="//fonts.googleapis.com/css?family=Lato:400,700|Merriweather|Roboto+Mono">
    <link rel="stylesheet" href="https://www.metadave.net/css/hugo-academic.css">
    


    <link rel="shortcut icon" href="https://www.metadave.net/img/favicon.ico" type="image/x-icon">
    <link rel="canonical" href="https://www.metadave.net/">

    <title>Dave Parfitt&#39;s blog</title>

</head>
<body id="top">


<nav class="navbar navbar-default navbar-fixed-top" id="navbar-main">
    <div class="container">

        
        <div class="navbar-header">
            <button type="button" class="navbar-toggle collapsed" data-toggle="collapse" data-target=".navbar-collapse" aria-expanded="false">
                <span class="sr-only">Toggle navigation</span>
                <span class="icon-bar"></span>
                <span class="icon-bar"></span>
                <span class="icon-bar"></span>
            </button>
            <a class="navbar-brand" href="https://www.metadave.net/">Dave Parfitt&#39;s blog</a>
        </div>

        
        <div class="collapse navbar-collapse" id="#navbar-collapse-1">

            
            <ul class="nav navbar-nav navbar-right">
                
                <li class="nav-item"><a href="https://www.metadave.net/#top">Home</a></li>
                
                <li class="nav-item"><a href="https://www.metadave.net/#posts">Posts</a></li>
                
                <li class="nav-item"><a href="https://www.metadave.net/#projects">Projects</a></li>
                
                <li class="nav-item"><a href="https://www.metadave.net/#contact">Contact</a></li>
                
            </ul>

        </div>
    </div>
</nav>



<span id="homepage" style="display: none"></span>




<section id="bio" class="home-section">
    <div class="container">
        <div class="row" itemprop="author" itemscope itemtype="http://schema.org/Person">
    <div class="col-xs-12 col-md-4">
        <div id="profile">

            <div class="portrait" itemprop="image" style="background-image: url('https://www.metadave.net/img/me.jpg');"></div>

            <div class="portrait-title">
                <h2 itemprop="name">Dave Parfitt</h2>
                <h3 itemprop="jobTitle">Site Reliability Engineer</h3>
                <h3 itemprop="worksFor">Mozilla</h3>
            </div>

            <ul class="social-icon">
                
                <li>
                    <a href="mailto:diparfitt@gmail.com">
                    
                        <i class="fa fa-envelope big-icon" aria-hidden="true"></i>
                    
                    </a>
                </li>
                
                <li>
                    <a href="//twitter.com/metadave">
                    
                        <i class="fa fa-twitter big-icon" aria-hidden="true"></i>
                    
                    </a>
                </li>
                
                <li>
                    <a href="//github.com/metadave">
                    
                        <i class="fa fa-github big-icon" aria-hidden="true"></i>
                    
                    </a>
                </li>
                
            </ul>

        </div>
    </div>

    <div class="visible-sm visible-xs"></div>

    <div class="col-xs-12 col-md-8" itemprop="description">

        

<h1 id="biography">Biography</h1>

<p>I am a software engineer in Buffalo, NY with a focus on backend + distributed systems. I currently work remotely for <a href="https://www.mozilla.org/">Mozilla</a> as a Senior Site Reliability Engineer, where I design and run global infrastructure for <a href="https://www.mozilla.org">mozilla.org</a> and <a href="https://developer.mozilla.org">MDN</a> on Kubernetes. Previously, I worked at <a href="http://www.chef.io">Chef</a>, where I was a core engineer on <a href="https://www.habitat.sh">Habitat</a> and an engineering lead for <a href="https://docs.chef.io/analytics.html">Chef Analytics</a>. I also worked at <a href="http://basho.com">Basho</a> on Riak <a href="http://docs.basho.com/riak/kv/2.1.4/configuring/v3-multi-datacenter/">multi data center replication</a>.</p>

<p>I&rsquo;m interested in the following languages: Rust, Erlang, D, OCaml, F#, C, Java, Go, Scala, Clojure, Haskell, R.</p>


        <div class="row">

            
            <div class="col-sm-5">
                <h3>Interests</h3>
                <ul>
                    
                    <li>distributed systems</li>
                    
                    <li>parsing &#43; compilers</li>
                    
                    <li>polyglot software development</li>
                    
                    <li>automation</li>
                    
                    <li>3d geometry</li>
                    
                    <li>math</li>
                    
                    <li>streaming analytics</li>
                    
                    <li>comedy</li>
                    
                </ul>
            </div>
            

            

        </div>

    </div>
</div>

    </div>
</section>

















<section id="posts" class="home-section">
    <div class="container">
        <div class="row">
            <div class="col-xs-12 col-md-4 section-heading">
                <h1>Recent Posts</h1>
                
                
            </div>
            <div class="col-xs-12 col-md-8">
                
                <div class="article-list-item" itemscope itemprop="blogPost">
                    
                    <h3 class="article-title" itemprop="name"><a href="https://www.metadave.net/post/git_crypt_autolock/" itemprop="url">Automatically locking a git crypt repo</a></h3>
                    

<div class="article-metadata">

    <span class="article-date">
        <time datetime="2017-03-08 09:00:00 &#43;0000 &#43;0000" itemprop="datePublished">Wed, Mar 8, 2017</time>
    </span>

    
    
    
    <span class="article-tags">
        <i class="fa fa-tags"></i>
        
        <a class="article-tag-link" href="https://www.metadave.net/tags/git">git</a>, 
        
        <a class="article-tag-link" href="https://www.metadave.net/tags/bash">bash</a>
        
    </span>
    
    

    

</div>

                    <p class="article-style" itemprop="articleBody">
                        
                            I&rsquo;ve been using Git Crypt with a few secure git repos at work. It works well and is easy to use.
The one thing that occasionally wakes me up in the middle of the night is wondering if I&rsquo;ve locked a repo when I&rsquo;m finished with it. To help with this issue, I threw together a quick bash function using at and wall. I use this on both Debian Linux and OSX.
                        
                    </p>
                    <p class="read-more">
                        <a href="https://www.metadave.net/post/git_crypt_autolock/" class="btn btn-primary btn-outline">
                            Read more
                        </a>
                    </p>
                </div>
                
                <div class="article-list-item" itemscope itemprop="blogPost">
                    
                    <h3 class="article-title" itemprop="name"><a href="https://www.metadave.net/post/kubernetes_bash_prompt/" itemprop="url">A Kubernetes-aware bash prompt</a></h3>
                    

<div class="article-metadata">

    <span class="article-date">
        <time datetime="2017-01-06 09:48:32 -0500 EST" itemprop="datePublished">Fri, Jan 6, 2017</time>
    </span>

    
    
    
    <span class="article-tags">
        <i class="fa fa-tags"></i>
        
        <a class="article-tag-link" href="https://www.metadave.net/tags/kubernetes">kubernetes</a>, 
        
        <a class="article-tag-link" href="https://www.metadave.net/tags/bash">bash</a>
        
    </span>
    
    

    

</div>

                    <p class="article-style" itemprop="articleBody">
                        
                            If you manage multiple Kubernetes deployments, this little trick can show you the current Kubernetes context as part of your bash prompt.
Edit your ~/.bash_profile or ~/.bashrc with the following:
function kube_context() { # could have used $?, but it was easier with a string compare local ctx=$(kubectl config current-context 2&gt;&amp;1) if [ &quot;${ctx}&quot; != &quot;error: current-context is not set&quot; ]; then echo -n &quot;&lt;${ctx}&gt; &quot; fi } Blue='\e[0;34m' # Blue White='\e[0;37m' # White BRed='\e[1;31m' # Red IWhite='\e[0;97m' # White LightBlue='\e[1;34m' PS1=&quot;\[$Blue\]\t\[$BWhite\]\[$LightBlue\] \$(kube_context)\[$BRed\]\[$BRed\]\w\[\033[m\]\[$IWhite\]\$(__git_ps1)\[$White\]\$ &quot;  The snippet above yields the following prompt:
                        
                    </p>
                    <p class="read-more">
                        <a href="https://www.metadave.net/post/kubernetes_bash_prompt/" class="btn btn-primary btn-outline">
                            Read more
                        </a>
                    </p>
                </div>
                
                <div class="article-list-item" itemscope itemprop="blogPost">
                    
                    <h3 class="article-title" itemprop="name"><a href="https://www.metadave.net/post/habitat_hart_deep_dive/" itemprop="url">Habitat .HART file deep dive</a></h3>
                    

<div class="article-metadata">

    <span class="article-date">
        <time datetime="2017-01-04 14:46:33 -0500 EST" itemprop="datePublished">Wed, Jan 4, 2017</time>
    </span>

    
    
    
    <span class="article-tags">
        <i class="fa fa-tags"></i>
        
        <a class="article-tag-link" href="https://www.metadave.net/tags/habitat">habitat</a>, 
        
        <a class="article-tag-link" href="https://www.metadave.net/tags/rust">rust</a>
        
    </span>
    
    

    

</div>

                    <p class="article-style" itemprop="articleBody">
                        
                            <p><a href="https://vimeo.com/174718777"><img src="http://i.imgur.com/AKiJK2K.png" alt="Habitat .HART file deep dive" /></a></p>

                        
                    </p>
                    <p class="read-more">
                        <a href="https://www.metadave.net/post/habitat_hart_deep_dive/" class="btn btn-primary btn-outline">
                            Read more
                        </a>
                    </p>
                </div>
                
                <div class="article-list-item" itemscope itemprop="blogPost">
                    
                    <h3 class="article-title" itemprop="name"><a href="https://www.metadave.net/post/quickcheck_rust/" itemprop="url">QuickCheck &#43; Rust demo</a></h3>
                    

<div class="article-metadata">

    <span class="article-date">
        <time datetime="2017-01-04 14:46:33 -0500 EST" itemprop="datePublished">Wed, Jan 4, 2017</time>
    </span>

    
    
    
    <span class="article-tags">
        <i class="fa fa-tags"></i>
        
        <a class="article-tag-link" href="https://www.metadave.net/tags/quickcheck">quickcheck</a>, 
        
        <a class="article-tag-link" href="https://www.metadave.net/tags/rust">rust</a>, 
        
        <a class="article-tag-link" href="https://www.metadave.net/tags/testing">testing</a>
        
    </span>
    
    

    

</div>

                    <p class="article-style" itemprop="articleBody">
                        
                            <p><a href="https://vimeo.com/177578682"><img src="http://i.imgur.com/eKamCk4.png" alt="QuickCheck + Rust demo" /></a></p>

                        
                    </p>
                    <p class="read-more">
                        <a href="https://www.metadave.net/post/quickcheck_rust/" class="btn btn-primary btn-outline">
                            Read more
                        </a>
                    </p>
                </div>
                
            </div>
        </div>
    </div>
</section>






<section id="projects" class="home-section">
    <div class="container">
        <div class="row">
            <div class="col-xs-12 col-md-4 section-heading">
                <h1>Projects</h1>
                
            </div>
            <div class="col-xs-12 col-md-8">
                <ul class="fa-ul">
                    
                    <li>
                        <span class="project-title">
                        <a href="https://www.metadave.net/project/habitat/">
                        <i class="fa-li fa fa-files-o pub-icon" aria-hidden="true"></i>
                        Habitat
                        </a >
                        </span>

                        <p class="project-summary">Habitat from Chef.io: Automation that travels with the application</p>

                        
                        
                        
                        <div class="project-tags">
                            <i class="fa fa-tags"></i>
                            
                            rust, 
                            
                            docker, 
                            
                            containers, 
                            
                            bash
                            
                        </div>
                        
                        
                    </li>
                    
                    <li>
                        <span class="project-title">
                        <a href="https://docs.chef.io/release/analytics/analytics.html">
                        <i class="fa-li fa fa-files-o pub-icon" aria-hidden="true"></i>
                        Chef Analytics
                        </a>
                        </span>

                        <p class="project-summary">The Chef Analytics platform is a feature of Chef that provides real-time visibility into what is happening on the Chef server, including whatâ€™s changing, who made those changes, and when they occurred. Individuals may be notified of these changes in real-time. </p>

                        
                        
                        
                        <div class="project-tags">
                            <i class="fa fa-tags"></i>
                            
                            java, 
                            
                            antlr, 
                            
                            erlang, 
                            
                            storm, 
                            
                            analytics
                            
                        </div>
                        
                        
                    </li>
                    
                    <li>
                        <span class="project-title">
                        <a href="https://www.metadave.net/project/erln8/">
                        <i class="fa-li fa fa-files-o pub-icon" aria-hidden="true"></i>
                        erln8
                        </a >
                        </span>

                        <p class="project-summary">Erln8: an erlang version manager written in C</p>

                        
                        
                        
                        <div class="project-tags">
                            <i class="fa fa-tags"></i>
                            
                            erlang, 
                            
                            c
                            
                        </div>
                        
                        
                    </li>
                    
                    <li>
                        <span class="project-title">
                        <a href="https://www.metadave.net/project/riak-ocaml-client/">
                        <i class="fa-li fa fa-files-o pub-icon" aria-hidden="true"></i>
                        Riak OCaml Client
                        </a >
                        </span>

                        <p class="project-summary">Riak OCaml Client</p>

                        
                        
                        
                        <div class="project-tags">
                            <i class="fa fa-tags"></i>
                            
                            ocaml, 
                            
                            riak
                            
                        </div>
                        
                        
                    </li>
                    
                </ul>
            </div>
        </div>
    </div>
</section>











<section id="contact" class="home-section">
    <div class="container">
        <div class="row">
            <div class="col-xs-12 col-md-4 section-heading">
                <h1>Contact</h1>
                
            </div>
            <div class="col-xs-12 col-md-8">
                <ul class="list-unstyled">

    

    
    <li>
        <i class="fa fa-envelope fa-fw" aria-hidden="true"></i>
        
        <span><a href="mailto:diparfitt@gmail.com">diparfitt@gmail.com</a></span>
        
    </li>
    

    

</ul>

            </div>
        </div>
    </div>
</section>



<footer class="site-footer">
    <div class="container">
        <p class="powered-by">

            &copy; 2016 Dave Parfitt &middot; 

            Powered by the <a href="https://github.com/gcushen/hugo-academic" target="_blank">Academic theme</a> for <a href="http://gohugo.io" target="_blank">Hugo</a>.

            <span class="pull-right"><a href="#" id="back_to_top"><span class="button_icon"><i class="fa fa-chevron-up fa-2x" aria-hidden="true"></i></span></a></span>

        </p>
    </div>
</footer>


        <script src="//cdnjs.cloudflare.com/ajax/libs/gsap/1.18.4/TweenMax.min.js"></script>
        <script src="//cdnjs.cloudflare.com/ajax/libs/gsap/latest/plugins/ScrollToPlugin.min.js"></script>
        <script src="https://www.metadave.net/js/jquery-1.12.3.min.js"></script>
        <script src="https://www.metadave.net/js/bootstrap.min.js"></script>
        <script src="https://www.metadave.net/js/hugo-academic.js"></script>
        

        

        
        <script src="//cdnjs.cloudflare.com/ajax/libs/highlight.js/9.3.0/highlight.min.js"></script>
        <script>hljs.initHighlightingOnLoad();</script>

        
        

    </body>
</html>

